<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Deployment Profiles|Deployment Modes|Example Deployments">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Router Mode Considerations</title>
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-87024037-1', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../skins/default/stylesheets/components/styles.css" rel="stylesheet" />
        <link href="../skins/default/stylesheets/components/tablet.css" rel="stylesheet" />
        <link href="../skins/default/stylesheets/components/mobile.css" rel="stylesheet" />
        <link href="resources/tablestyles/note-table.css" rel="stylesheet" />
        <link href="resources/stylesheets/sp-styles.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js">
        </script>
        <script src="../Resources/Scripts/require.config.js">
        </script>
        <script src="../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="Header"><span class="SP_Doc_VarsCompany">Silver Peak</span> <span class="SP_Doc_VarsDocTitle">SD-WAN</span> <span class="SP_Doc_VarsDocType">Deployment Guide</span></p>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True">
            </div>
        </div>
        <h1>Router Mode Considerations</h1>
        <ul>
            <li value="1">
            
            In-Line <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">Router Mode<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Out-of-path deployment, where data traffic is redirected by using policy-based routing (PBR), Web Cache Coordination Protocol (WCCP), or Virtual Router Redundancy Protocol (VRRP).</span></a> is recommended whenever possible vs. traditional <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">router mode<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Out-of-path deployment, where data traffic is redirected by using policy-based routing (PBR), Web Cache Coordination Protocol (WCCP), or Virtual Router Redundancy Protocol (VRRP).</span></a> deployment.</li>
            <li value="2">
            
            Limitations when using plain <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">router mode<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Out-of-path deployment, where data traffic is redirected by using policy-based routing (PBR), Web Cache Coordination Protocol (WCCP), or Virtual Router Redundancy Protocol (VRRP).</span></a> over 
            
            In-Line <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">Router Mode<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Out-of-path deployment, where data traffic is redirected by using policy-based routing (PBR), Web Cache Coordination Protocol (WCCP), or Virtual Router Redundancy Protocol (VRRP).</span></a>:<ul><li value="1">
            Unable to act as a firewall (can’t distinguish trusted and untrusted zones).</li><li value="2">
            Inaccurate pass-through stats (because inbound and outbound are combined into outbound).</li><li value="3">
            Inaccurate shaping/<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">QoS<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Quality of Service is the ability to provide different priority to different applications, users, or data flows, or to guarantee a certain level of performance to a data flow. QoS involves several functions: 1) classification of packets into traffic classes based on characteristics such as source, destination addresses, and/or applications and 2) queuing and service mechanisms that are used to apply service policies based on these classifications, including bandwidth allocation.</span></a> (because inbound and outbound are munged into outbound).</li><li value="4">
            Unable to use pass-through <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">tunnels<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Encapsulating one type of network protocol (called the payload protocol) within a different delivery protocol. A logical connection between two devices, in our case, two Silver Peak appliances.</span></a> in future, or enable service chaining.</li></ul></li>
            <li value="3">
            
            Some limitations to <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">ILRM<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>In-Line Router Mode</span></a> in 8.0.3 don’t allow control of <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">pass-through traffic<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Traffic that is sent to the WAN without being optimized.</span></a> out of any interface except for <b>wan0</b> and in some cases might cause a network loop.</li>
        </ul>
        <table style="width: 100%;mc-table-style: url('resources/tablestyles/note-table.css');" class="TableStyle-Note-table" cellspacing="0">
            <col class="TableStyle-Note-table-Column-Column1" />
            <col class="TableStyle-Note-table-Column-Column2" />
            <tbody>
                <tr class="TableStyle-Note-table-Body-Body1">
                    <td class="TableStyle-Note-table-BodyB-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Note-table-BodyA-Column2-Body1">
                        <p class="NOTE" data-mc-autonum="&lt;b&gt;NOTE:&lt;/b&gt; &#160;&#160;"><span class="autonumber"><span class="colorBlue"><b>NOTE:</b> &#160;&#160;</span></span><a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">Router mode<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Out-of-path deployment, where data traffic is redirected by using policy-based routing (PBR), Web Cache Coordination Protocol (WCCP), or Virtual Router Redundancy Protocol (VRRP).</span></a> is suggested for <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">out-of-path<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Same as Router mode. In an out-of-path deployment, policy-based routing (PBR), VRRP, or WCCP redirects the traffic to the Silver Peak appliance for processing.</span></a> deployments such as <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">PBR<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Policy-based routing is a technique used to make routing decisions based on policies set by the network administrator.</span></a> and <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Hyperlink #text #textHyperlink">WCCP<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Web Cache Communications Protocol. A Cisco-developed content-routing protocol that provides a mechanism to redirect traffic flows in real-time. It has built-in load balancing, scaling, fault tolerance, and service-assurance (failsafe) mechanisms. Utilizes HIA (Here I Am) messages from SP devices and ISY (I See You) messages to the router.</span></a> until these limitations are fixed or when the topology is not susceptible to creating a loop.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="MCRelationshipsProxy_0">
            <p class="conceptHeading_concept_0">Concepts</p>
            <p class="conceptItem_concept_0"><a href="deployment_profiles.htm">Deployment Profiles</a>
            </p>
            <p class="conceptItem_concept_0"><a href="deployment_modes.htm">Deployment Modes</a>
            </p>
            <p class="conceptItem_concept_0"><a href="example_deployments.htm">Example Deployments</a>
            </p>
            <p class="taskHeading_task_0">Tasks</p>
            <p class="taskItem_task_0"><a href="configuring_deployment_profiles.htm">Configuring Deployment Profiles</a>
            </p>
            <p class="taskItem_task_0"><a href="wan_hardening.htm">WAN Hardening</a>
            </p>
            <p class="referenceHeading_reference_0">Related Topics</p>
            <p class="referenceItem_reference_0"><a href="in-line_deployments.htm">In-Line Deployments</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_bridge_vs_router.htm">In-Line Bridge vs In-Line Router</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_overview.htm">In-Line Overview</a>
            </p>
            <p class="referenceItem_reference_0"><a href="out-of-path_deployments.htm">Out-of-Path Deployments</a>
            </p>
            <p class="referenceItem_reference_0"><a href="server_mode_deployments.htm">Server Mode Deployments</a>
            </p>
            <p class="referenceItem_reference_0"><a href="deploying_in_nat_environments.htm">Deploying in NAT Environments</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_router_mode__router_+_firewall_.htm">In-Line Router Mode (Router + Firewall)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_router_mode__router_+_direct_internet_.htm">In-Line Router Mode (Router + Direct Internet)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_router_mode__single_direct_internet_.htm">In-Line Router Mode (Single Direct Internet)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_router_mode__dual_direct_internet_.htm">In-Line Router Mode (Dual Direct Internet)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="in-line_router_mode__dual_mpls_.htm">In-Line Router Mode (Dual MPLS)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="bridge_mode__router_+_direct_internet_.htm">Bridge Mode (Router + Direct Internet)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="bridge_mode__router_+_firewall_.htm">Bridge Mode (Router + Firewall)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="bridge_mode__dual_mpls_.htm">Bridge Mode (Dual MPLS)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="router_mode_mpls_+_internet.htm">Router Mode MPLS + Internet</a>
            </p>
            <p class="referenceItem_reference_0"><a href="router_mode_ha__mpls_+_mpls_.htm">Router Mode HA (MPLS + MPLS)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="dual_home_router_mode__mpls_+_internet_.htm">Dual Home Router Mode (MPLS + Internet)</a>
            </p>
            <p class="referenceItem_reference_0"><a href="dual_home_router_mode_ha__mpls_+_internet_.htm">Dual Home Router Mode HA (MPLS + Internet)</a>
            </p>
        </div>
        <hr width="100%" size="0" align="center" />
        <p class="Footer">Copyright © <span class="SP_Doc_VarsCurrentYear">2017</span> by Silver Peak Systems, Inc. All rights reserved.</p>
        <img src="resources/globalimages/watermark.jpg" class="watermark" />
    </body>
</html>