<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-US" xml:lang="en-US" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../" data-mc-conditions="Status.Complete" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" />
        <meta name="author" /><title>Deploy Targets</title>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="resources/tablestyles/codetable.css" rel="stylesheet" />
        <link href="resources/tablestyles/parametertable.css" rel="stylesheet" />
        <link href="resources/stylesheets/shipped.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js">
        </script>
        <script src="../Resources/Scripts/require.config.js">
        </script>
        <script src="../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div>
            <div id="contentBody">
                <div>
                    <h1>Deploy Targets</h1>
                    <p>Deploy targets are cloud or on-premise clusters where you  provision your Shipped services. Cisco runs various  public targets, but you can add your own.</p>
                    <p>For now, these targets must be deployments of <a href="http://mantl.io">Mantl</a>.</p>
                    <table style="width: 100%;mc-table-style: url('resources/tablestyles/codetable.css');" class="TableStyle-CodeTable" cellspacing="0">
                        <col class="TableStyle-CodeTable-Column-Column1" />
                        <col class="TableStyle-CodeTable-Column-Column1" />
                        <col class="TableStyle-CodeTable-Column-Column2" style="width: 50%;" />
                        <tbody>
                            <tr class="TableStyle-CodeTable-Body-Body2" data-mc-pattern="5">
                                <td class="TableStyle-CodeTable-BodyE-Column1-Body2" colspan="2">
                                    <h2>List targets</h2>
                                </td>
                                <td class="TableStyle-CodeTable-BodyD-Column2-Body2">&#160;</td>
                            </tr>
                            <tr class="TableStyle-CodeTable-Body-Body1" data-mc-pattern="1">
                                <td class="TableStyle-CodeTable-BodyF-Column1-Body1">&#160;</td>
                                <td class="TableStyle-CodeTable-BodyE-Column1-Body1">
                                    <p>List all the targets available to a project.</p>
                                    <h3>HTTP Request</h3>
                                    <p><code class="httpRequest">GET https://api.ciscoshipped.io/projects/&lt;PROJECT_ID&gt;/deploy_targets</code>
                                    </p>
                                    <h3 id="url-parameters">URL Parameters</h3>
                                    <table class="TableStyle-ParameterTable" cellspacing="0" style="mc-table-style: url('resources/tablestyles/parametertable.css');">
                                        <thead>
                                            <tr class="TableStyle-ParameterTable-Head-Header1">
                                                <th class="TableStyle-ParameterTable-HeadE-Column1-Header1">Parameter</th>
                                                <th class="TableStyle-ParameterTable-HeadD-Column1-Header1">Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="TableStyle-ParameterTable-Body-Body1">
                                                <td class="TableStyle-ParameterTable-BodyB-Column1-Body1">PROJECT_ID</td>
                                                <td class="TableStyle-ParameterTable-BodyA-Column1-Body1">The id of the project for which to get builds</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td class="TableStyle-CodeTable-BodyD-Column2-Body1">
                                    <p class="code">curl  'https://api.ciscoshipped.io/projects/34a35726-66e9-11e5-99df-0242ac110120/deploy_targets'
                        </p>
                                    <h3 class="light">Example Response</h3>
                                    <p class="code">[</p>
                                    <p class="code">&#160;&#160;&#160;&#160;{</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "deployed_url_template":"http://%s.shipped-cisco.com",</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "id":"31f03bc9-0314-11e5-b9c3-6c4008ad584a",</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "is_public_target":true,</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "name":"Cisco EU - 1",</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "opts":{url:"https://shipped-eu-control-01.ams.shipped-cisco.com/marathon/"},</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "project_id":"31f03bc9-0314-11e5-b9c3-6c4008ad584b",</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "type":"marathon"},</p>
                                    <p class="code">&#160;&#160;&#160;&#160;  {...},</p>
                                    <p class="code">&#160;&#160;&#160;&#160;  {...},</p>
                                    <p class="code">]
                        </p>
                                </td>
                            </tr>
                            <tr class="TableStyle-CodeTable-Body-Body2" data-mc-pattern="5">
                                <td class="TableStyle-CodeTable-BodyE-Column1-Body2" colspan="2">
                                    <h2>Create a deploy target</h2>
                                </td>
                                <td class="TableStyle-CodeTable-BodyD-Column2-Body2">&#160;</td>
                            </tr>
                            <tr class="TableStyle-CodeTable-Body-Body1" data-mc-pattern="1">
                                <td class="TableStyle-CodeTable-BodyC-Column1-Body1">&#160;</td>
                                <td class="TableStyle-CodeTable-BodyB-Column1-Body1">
                                    <p>Retrieves a specific config for a project environment.</p>
                                    <h3>HTTP Request</h3>
                                    <p><code class="httpRequest">POST https://api.ciscoshipped.io/projects/&lt;PROJECT_ID&gt;/deploy_targets</code>
                                    </p>
                                    <h3 id="url-parameters">URL Parameters</h3>
                                    <table class="TableStyle-ParameterTable" cellspacing="0" style="mc-table-style: url('resources/tablestyles/parametertable.css');">
                                        <thead>
                                            <tr class="TableStyle-ParameterTable-Head-Header1">
                                                <th class="TableStyle-ParameterTable-HeadE-Column1-Header1">Parameter</th>
                                                <th class="TableStyle-ParameterTable-HeadD-Column1-Header1">Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="TableStyle-ParameterTable-Body-Body1">
                                                <td class="TableStyle-ParameterTable-BodyE-Column1-Body1">PROJECT_ID</td>
                                                <td class="TableStyle-ParameterTable-BodyD-Column1-Body1">The id of the service’s project</td>
                                            </tr>
                                            <tr class="TableStyle-ParameterTable-Body-Body2">
                                                <td class="TableStyle-ParameterTable-BodyE-Column1-Body2">TYPE</td>
                                                <td class="TableStyle-ParameterTable-BodyD-Column1-Body2">For future use, for now, this must be “marathon”.</td>
                                            </tr>
                                            <tr class="TableStyle-ParameterTable-Body-Body1">
                                                <td class="TableStyle-ParameterTable-BodyE-Column1-Body1">NAME</td>
                                                <td class="TableStyle-ParameterTable-BodyD-Column1-Body1">The user friendly identifier for the deploy target</td>
                                            </tr>
                                            <tr class="TableStyle-ParameterTable-Body-Body2">
                                                <td class="TableStyle-ParameterTable-BodyE-Column1-Body2">DEPLOYED_URL_TEMPLATE</td>
                                                <td class="TableStyle-ParameterTable-BodyD-Column1-Body2">A url origin for deployed apps with a single wildcard value “%s” to be filled in with the marathon app id.</td>
                                            </tr>
                                            <tr class="TableStyle-ParameterTable-Body-Body1">
                                                <td class="TableStyle-ParameterTable-BodyB-Column1-Body1">OPTS</td>
                                                <td class="TableStyle-ParameterTable-BodyA-Column1-Body1">A json object containing at least a URL attribute for how to reach the deploy target</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td class="TableStyle-CodeTable-BodyA-Column2-Body1">
                                    <p class="code">curl 'https://api.ciscoshipped.io/projects/34a35726-66e9-11e5-99df-0242ac110120/deploy_targets'  -d</p>
                                    <p class="code">'{ "deployed_url_template": "http://%s.my-domain.com", "name": "My Datacenter", "opts": {url: "https://my-datacenter.com/marathon/", http_auth: {"user": "&lt;user&gt;", "pass": "&lt;pass&gt;"}, "project_id": "31f03bc9-0314-11e5-b9c3-6c4008ad584b", "type": "marathon" }'</p>
                                    <h3 class="light">Example Response</h3>
                                    <p class="code">;{</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"id":"31f03bc9-0314-11e5-b9c3-6c4008ad584d",</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"project_id":"31f03bc9-0314-11e5-b9c3-6c4008ad584b",</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"type":"marathon",</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"name":"AWS",</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"opts":</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; {"http_auth":</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160;{"pass":"&lt;pass&gt;",</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; "user":"&lt;user&gt;"},</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;  &#160;&#160;&#160;&#160; "url":"http://my-domain.com/marathon/"},</p>
                                    <p class="code">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; "deployed_url_template":"http://%s.my-domain.com",</p>
                                    <p class="code">&#160;&#160;&#160;&#160;"is_public_target":<b>false</b></p>
                                    <p class="code">}
                        </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>